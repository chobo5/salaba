<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" type="text/css" data-th-href="@{/css/detail.css}" href="../../static/css/detail.css">
</head>
<body>

<div class="content">
<form data-th-action="@{update}" method="post" data-th-object="${rental}">
    <h4 class="partTitle">숙소 사진</h4>
    <div class="rentalImgs">
        <div data-th-each="photo : ${rental.photos}" data-th-object="${photo}">
            <div class="card">
                <img class="rentalImg" data-th-src="@{'https://kr.object.ncloudstorage.com/tp3-salaba/rentalHome/' + *{uuidName}(type=f,w=100,h=100,ttype=jpg)}">
                <p data-th-text="*{explanation}"></p>
            </div>
        </div>
    </div>
    <h4 class="partTitle">숙소 기본 정보</h4>
    <div class="infoBox">
        <div class="info"><span>숙소 번호</span> <span name="rentalNo" data-th-text="*{rentalNo}"></span></div>
        <div class="hr"></div>
    </div>
    <div class="infoBox">
        <div class="info"><span>숙소 이름</span> <span data-th-text="*{name}"></span></div>
        <div class="hr"></div>
    </div>
    <div class="infoBox">
        <div class="info"><span>숙소 설명</span> <span data-th-text="*{explanation}"></span></div>
        <div class="hr"></div>
    </div>
    <div class="infoBox">
        <div class="info"><span>숙소 이용규칙</span> <span data-th-text="*{rule}"></span></div>
        <div class="hr"></div>
    </div>
    <div class="infoBox">
        <div class="info"><span>숙소 가격</span> <span data-th-text="*{price}"></span></div>
        <div class="hr"></div>
    </div>
    <div class="infoBox">
        <div class="info"><span>숙소 청소비</span> <span data-th-text="*{cleanFee}"></span></div>
        <div class="hr"></div>
    </div>
    <div class="infoBox">
        <div class="info"><span>숙소 주소</span> <span data-th-text="*{address}"></span></div>
        <div class="hr"></div>
    </div>
    <h4 class="partTitle">객실 정보</h4>
    <div class="infoBox">
        <div class="info"><span>수용 인원</span> <span data-th-text="*{capacity}"></span></div>
        <div class="hr"></div>
    </div>
    <div data-th-each="facility : ${rental.facilities}" data-th-object="${facility}">
        <div class="infoBox" data-th-if="*{facilityNo < 4}">
            <div class="info">
                <span data-th-text="*{name}"></span >
                <span data-th-text="*{count}"></span>
            </div>
            <div class="hr"></div>
        </div>
    </div>

    <h4 class="partTitle">숙소 타입</h4>
    <div class="itemList">
    <div data-th-each="theme : ${rental.themes}" data-th-object="${theme}">
        <span data-th-if="*{themeNo < 10}" data-th-text="*{themeName}"></span>
    </div>
    </div>

    <h4 class="partTitle">숙소 편의 시설</h4>
    <div class="itemList">
    <div data-th-each="facility : ${rental.facilities}" data-th-object="${facility}">
        <span data-th-if="*{facilityNo > 3}" data-th-text="*{name}"></span>
    </div>
    </div>


    <h4 class="partTitle">숙소 테마</h4>
    <div class="itemList">
    <div data-th-each="theme : ${rental.themes}" data-th-object="${theme}">
        <span  data-th-if="*{themeNo >= 10}" data-th-text="*{themeName}"></span>
    </div>
    </div>
    <div data-th-if="${menu == 2}">
        <button class="dealBtn" onclick="approveOrReject('1')">등록 승인</button>
        <button class="dealBtn" onclick="approveOrReject('4')">등록 거부</button>
    </div>
    
</form>
</div>



<script>
    function approveOrReject(value) {
        let form = document.querySelector('form');
        let rentalNo = document.querySelector('input[name="rentalNo"]').value;
        let valueInput = document.createElement('input')
        valueInput.type = 'hidden';
        valueInput.name = 'value';
        valueInput.value = value;
        form.appendChild(valueInput);
        form.submit();
    }
    
    </script>
</body>
</html>

