<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
</head>
<body>
<div data-th-replace="header :: header">헤더</div>
<div data-th-replace="sidebar :: sidebar">사이드바</div>
<h2>신고 보기</h2>
<!--게시글, 댓글, 답글 신고-->
<form data-th-if="${!#strings.equals(type, '3')}" action="update" data-th-action="@{update}" method="post"
      data-th-object="${report}">
    <h4 data-th-text="${name}">신고 대상</h4>

    <div>
        해당 글 : <input readonly type="text" data-th-value="*{reportTarget.content}">
    </div>
    <div>
        작성자: <input readonly type="text" data-th-value="*{writer.name}">
    </div>
    <div>
        작성일: <input readonly type="text" data-th-value="*{reportTarget.createdDate}">
    </div>

    <br>

    <h4>신고 내용</h4>
    <div>
        신고 번호: <input name="reportNo" readonly type="text" data-th-value="*{reportNo}">
    </div>
    <input name="targetNo" type="hidden" data-th-value="*{targetNo}">
    <input name="targetType" type="hidden" data-th-value="*{targetType}">
    <div>
        신고자: <input readonly type="text" data-th-value="*{reporter.name}">
    </div>
    <div>
        신고일: <input readonly type="text" data-th-value="*{reportDate}">
    </div>
    <div>
        신고 유형: <input readonly type="text" data-th-value="*{categoryName}">
    </div>
    <div>
        신고 내용: <input readonly type="text" data-th-value="*{content}">
    </div>
    <div>
        처리 상태: <input readonly type="text" data-th-value="*{stateStr}">
    </div>

    <br>

    <br>
    <div data-th-if="*{state == '0'}">
        <select name="selection1" id="selection">
            <option value="2">경고 조치</option>
            <option value="1">영구 정지</option>
            <option value="0">무시</option>
        </select>
        <button onclick="submitForm()">신고 처리</button>
    </div>
</form>
<script>
    function submitForm() {
        var selectElement = document.getElementById("result");
        var selectedValue = selectElement.options[selectElement.selectedIndex].value;

        // 선택된 값 확인
        console.log("선택된 값:", selectedValue);

        // 폼 전송
        document.getElementById("reportForm").submit();
    }
</script>

<!--숙소 신고-->
<form data-th-if="${#strings.equals(type, '3')}" action="update" data-th-action="@{update}" method="post"
      data-th-object="${report}">
    <h4 data-th-text="${name}">신고 대상</h4>
    <div>
        <input name="targetNo" type="hidden" data-th-value="*{targetNo}">
        숙소명: <input readonly type="text" data-th-value="*{targetRental.name}">
    </div>
    <div>
        주소: <input readonly type="text" data-th-value="*{targetRental.address}">
    </div>
    <div>
        <input name="writerNo" readonly type="hidden" data-th-value="*{writer.memberNo}">
        호스트: <input readonly type="text" data-th-value="*{writer.name}">
    </div>
    <div>
        숙소 등록일: <input readonly type="text" data-th-value="*{targetRental.regDate}">
    </div>

    <br>

    <h4>신고 내용</h4>
    <div>
        신고자: <input readonly type="text" data-th-value="*{reporter.name}">
    </div>
    <div>
        신고일: <input readonly type="text" data-th-value="*{reportDate}">
    </div>
    <div>
        신고 유형: <input readonly type="text" data-th-value="*{categoryName}">
    </div>
    <div>
        신고 내용: <input readonly type="text" data-th-value="*{content}">
    </div>
    <div>
        처리 상태: <input readonly type="text" data-th-value="*{stateStr}">
    </div>

    <br>

    <br>
    <div data-th-if="*{state == '0'}">
        <select name="selection2" id="result2">
            <option value="5">경고 조치</option>
            <option value="2">영구 정지</option>
            <option value="1">무시</option>
        </select>
        <button>신고 처리</button>
    </div>
</form>
</body>
</html>