<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" data-th-href="@{/css/detail.css}" href="../../static/css/detail.css">
</head>
<body>
<h2>신고 보기</h2>
<!--게시글, 댓글, 답글 신고-->
<div class="content">
<form data-th-if="${!#strings.equals(type, '3')}" action="update" data-th-action="@{update}" method="post"
      data-th-object="${report}">
    <h4 class="partTitle" data-th-text="${name}">신고 대상</h4>

    <div class="infoBox">
        <div class="info"><span>해당 글</span><span data-th-text="*{reportTarget.content}"></span></div>
        <div class="hr"></div>
    </div>
    <div class="infoBox">
        <div class="info"><span>작성자</span><span data-th-text="*{writer.name}"></span></div>
        <div class="hr"></div>
    </div>
    <div class="infoBox">
        <div class="info"><span>작성일</span><span data-th-text="*{reportTarget.createdDate}"></span></div>
        <div class="hr"></div>
    </div>

    <br>

    <h4 class="partTitle">신고 내용</h4>
    <input name="targetNo" type="hidden" data-th-text="*{targetNo}">
    <input name="targetType" type="hidden" data-th-text="*{targetType}">
    <div class="infoBox">
        <div class="info"><span>신고 번호</span><span name="reportNo" data-th-text="*{reportNo}"></span></div>
        <div class="hr"></div>
    </div>

    <div class="infoBox">
        <div class="info"><span>신고자</span><span data-th-text="*{reporter.name}"></span></div>
        <div class="hr"></div>
    </div>
    <div class="infoBox">
        <div class="info"><span>신고일</span><span data-th-text="*{reportDate}"></span></div>
        <div class="hr"></div>
    </div>
    <div class="infoBox">
        <div class="info"><span>신고 유형</span><span data-th-text="*{categoryName}"></span></div>
        <div class="hr"></div>
    </div>
    <div class="infoBox">
        <div class="info"><span>신고 내용</span><span data-th-text="*{content}"></span></div>
        <div class="hr"></div>
    </div>
    <div class="infoBox">
        <div class="info"><span>처리 상태</span><span data-th-text="*{stateStr}"></span></div>
        <div class="hr"></div>
    </div>

    <br>

    <br>
    <div data-th-if="*{state == '0'}">
        <select class="dealSelect" name="selection1" id="selection">
            <option value="2">경고 조치</option>
            <option value="1">영구 정지</option>
            <option value="0">무시</option>
        </select>
        <button onclick="submitForm()">신고 처리</button>
    </div>

</form>

<!--숙소 신고-->
<form data-th-if="${#strings.equals(type, '3')}" action="update" data-th-action="@{update}" method="post"
      data-th-object="${report}">
    <h4 data-th-text="${name}">신고 대상</h4>
    <input name="targetNo" type="hidden" data-th-text="*{targetNo}">
    <div class="infoBox">
        <div class="info">
        <span>숙소명</span>
        <span data-th-text="*{targetRental.name}"></span>
        </div>
        <div class="hr"></div>
    </div>
    <div class="infoBox">
        <div class="info">
            <span>주소</span>
            <span data-th-text="*{targetRental.address}"></span>
        </div>
        <div class="hr"></div>
    </div>
    <div class="infoBox">
        <div class="info">
        <span name="writerNo" hidden data-th-text="*{writer.memberNo}">호스트</span>
        <span>호스트명</span>
        <span data-th-text="*{writer.name}"></span>
        </div>
        <div class="hr"></div>
    </div>
    <div class="hr"></div>
    <div class="infoBox">
        <div class="info"><span>숙소 등록일</span><span data-th-text="*{targetRental.regDate}"></span></div>
        <div class="hr"></div>
    </div>

    <br>

    <h4 class="partTitle">신고 내용</h4>
    <div class="infoBox">
        <div class="info"><span>신고자</span><span data-th-text="*{reporter.name}"></span></div>
        <div class="hr"></div>
    </div>
    <div class="infoBox">
        <div class="info"><span>신고일</span><span data-th-text="*{reportDate}"></span></div>
        <div class="hr"></div>
    </div>
    <div class="infoBox">
        <div class="info"><span>신고 유형</span><span data-th-text="*{categoryName}"></span></div>
        <div class="hr"></div>
    </div>
    <div class="infoBox">
        <div class="info"><span>신고 내용</span><span data-th-text="*{content}"></span></div>
        <div class="hr"></div>
    </div>
    <div class="infoBox">
        <div class="info"><span>처리 상태</span><span data-th-text="*{stateStr}"></span></div>
        <div class="hr"></div>
    </div>

    <br>

    <br>
    <div data-th-if="*{state == '0'}">
        <select class="dealSelect" name="selection2" id="result2">
            <option value="5">경고 조치</option>
            <option value="2">영구 정지</option>
            <option value="1">무시</option>
        </select>
        <button class="dealBtn">신고 처리</button>
    </div>
</form>
</div>

<script>
    function submitForm() {
        var selectElement = document.getElementById("result");
        var selectedValue = selectElement.options[selectElement.selectedIndex].value;

        // 선택된 값 확인
        console.log("선택된 값:", selectedValue);

        // 폼 전송
        document.getElementById("reportForm").submit();
    }
</script>

</body>
</html>