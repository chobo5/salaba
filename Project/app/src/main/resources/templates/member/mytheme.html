<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='UTF-8'>
  <title>사라바</title>
  <link rel="stylesheet" type="text/css" href="/css/common.css">
  <link rel="stylesheet" type="text/css" href="/css/member/myInfoLeft.css">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script>
    $(document).ready(function() {
        $("input[type='checkbox']").on("click", function(){
            var className = $(this).attr("class");
            var roomTypeCnt = 0;
            var roomThemeCnt = 0;
            if(className == "roomType"){
              $(".roomType").each(function() {
                if($(this).is(':checked')){
                  roomTypeCnt++;
                }
              });

              if(roomTypeCnt > 3){
                alert("숙소 타입은 3개까지만 선택할 수 있습니다.");
                return false;
              }else{
                return true;
              }
            }else{
              $(".roomTheme").each(function() {
                if($(this).is(':checked')){
                  roomThemeCnt++;
                }
              });

              if(roomThemeCnt > 5){
                alert("숙소 테마는 5개까지만 선택할 수 있습니다.");
                return false;
              }else{
                return true;
              }
            }
        });
    });
  </script>
</head>
<body>


<div data-th-replace="header :: header">머리말</div>

<div class="rootDiv">
  <div data-th-replace="/member/myInfoLeft :: myInfoLeft"></div>

  <div style="margin-left: 20px;">
        <h2>선호 사항</h2>
        <div align="center">

          <form action="themeForm" data-th-action="@{themeSave}"  method='post'>
            <br>
            <br>
            <br>
            <h2>숙소 타입</h2>
            <div>
              <table border="1">
                <thead>
                <th>유형</th>
                <th>선택</th>
                </thead>
                <tbody>
                <tr data-th-if="${theme.themeNo < 10}" data-th-each="theme : ${themeList}"
                    data-th-object="${theme}">
                  <td data-th-text="*{themeName}"></td>
                  <td>
                    <input type="checkbox" class="roomType" name="myThemes" data-th-value="*{themeNo}" data-th-if="${theme.myThemeYn == 'Y'}" checked/>
                    <input type="checkbox" class="roomType" name="myThemes" data-th-value="*{themeNo}" data-th-if="${theme.myThemeYn == 'N'}"/>
                  </td>
              </tr>
              </tbody>
            </table>
            </div>
            <br>
            <br>
            <br>
            <h2>숙소 테마</h2>
            <p data-th-if="${theme.themeNo >= 10}"
               data-th-each="theme : ${themeList}" data-th-object="${theme}">
              <a data-th-text="*{themeName}"></a>
              <input type="checkbox" class="roomTheme" name="myThemes" data-th-value="*{themeNo}" data-th-if="${theme.myThemeYn == 'Y'}" checked/>
              <input type="checkbox" class="roomTheme" name="myThemes" data-th-value="*{themeNo}" data-th-if="${theme.myThemeYn == 'N'}"/>

            </p>
            <br>
            <br>
            <br>
            <div>
              <button>저장</button>
            </div>
            </form>
          </div>
      </div>
</div>

<div data-th-replace="footer :: footer">꼬리말</div>



</body>
<script data-th-src="@{/js/header.js}"></script>
</html>