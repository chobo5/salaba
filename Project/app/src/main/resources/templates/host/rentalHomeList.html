<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>숙소 관리 내역</title>
  <style>


    #mainContainer {
      margin-top: 50px;
      border: 1px solid #CCCCCC;
    }

    #titleContainer {
      border: 1px solid #CCCCCC;
      padding: 10px;
    }

    .contentContainer {
      border: 1px solid #CCCCCC;
      position: relative;
      max-height: 150px;
    }

    .table {
      display: table;
      width: 100%;
      border-collapse: collapse;
    }

    .table-row {
      display: table-row;
    }


    .table-cell {
      display: table-cell;
      vertical-align: middle;
      text-align: center;
    }

    .table-header {
      font-weight: bold;
      text-align: right;
      background-color: #f2f2f2;
    }

    .rentalHomePhoto {
      width: 150px;
    }
  </style>


  </style>
</head>

<body>

<div data-th-replace="host/hostHeader :: hostHeader">머리말</div>

<div align="center">

  <div id="mainContainer">
    <div id="titleContainer" class="table">
      <div class="table-row table-header">
        <div class="table-cell">숙소명</div>
        <div class="table-cell">수용 인원</div>
        <div class="table-cell">주소</div>
        <div class="table-cell">가격</div>
        <div class="table-cell">상태</div>
        <div class="table-cell">호스팅 시작일</div>
      </div>
    </div>

    <div data-th-each="rentalHome : ${list}" data-th-object="${rentalHome}" class="rows" data-th-data-no="${rentalHome.rentalHomeNo}">
      <div class="contentContainer table">
        <div class="table-row">
          <div class="table-cell rentalHomePhoto">
            <img class="content img" data-th-src="@{'https://5ns6sjke2756.edge.naverncp.com/nBMc0TCJiv/rentalHome/' + ${rentalHome.rentalHomePhotos[0].uuidPhotoName}(type=f,w=150,h=150,ttype=jpg)}" src="/photo1.jpg">
          </div>
          <div class="table-cell name" data-th-text="*{name}"><a href=""></a></div>
          <div class="table-cell capacity" data-th-text="*{capacity}">2</div>
          <div class="table-cell address" data-th-text="*{address}">제주 서귀포시 ...</div>
          <div class="table-cell price" data-th-text="*{price} + '/주'">100000/주</div>
          <div class="table-cell status" data-th-data-state="*{state}"></div>
          <div class="table-cell hostingStartDate" data-th-text="${#dates.format(rentalHome.hostingStartDate,'yyyy-MM-dd')}">2024-04-06</div>
        </div>
      </div>
    </div>
  </div>



  <br>
  <br>
  <br>

  <div align="center">
    <a data-th-href="@{hostStart}">새 숙소</a>
  </div>

  <div class="footer" data-th-replace="footer :: footer">꼬리말</div>
  <script data-th-inline="javascript">


    statusList = document.querySelectorAll('.status');

    statusList.forEach((statusTd) => {
      let state = statusTd.getAttribute('data-state');
      switch (state) {
        case '0':
          statusTd.textContent = "등록 심사중";
          break;
        case '1':
          statusTd.textContent = "운영중";
          break;
        case '2':
          statusTd.textContent = "운영 중지";
          break;
        default:
          statusTd.textContent = "등록 심사중";
          break;
      }
    });

    var el = document.querySelectorAll('.content');

    for (var e of el) {
      e.addEventListener("click", function(e) {
        window.location.href = "rentalHomeView?rentalHomeNo=" + e.currentTarget.getAttribute("data-no");
      });
    }
  </script>
</div>
</body>
</html>