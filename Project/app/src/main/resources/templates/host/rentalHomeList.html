<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>숙소 관리 내역</title>
  <link rel="stylesheet" type="text/css" href="/css/common.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.0/css/all.min.css">
  <style>

    #mainContainer {
      font-family: "Noto Sans KR";
      font-weight: 400;
      margin-top: 50px;
      border: 1px solid #CCCCCC;
      border-radius: 10px;
      overflow: hidden;
    }


    .contentContainer {
      position: relative;
      max-height: 150px;
    }

    .table {
      display: table;
      width: 100%;
      border-collapse: collapse;
    }

    .table-row {
      border: 1px solid #CCCCCC;
      display: flex;
      align-items: center;
    }

    .table-cell {
      display: table-cell;
      vertical-align: middle;
      text-align: center;
    }

    .rentalHomePhoto img,
    #empty {
      width: 150px;
      padding: 5px;
      border-radius: 10px;
    }

    .name,
    #name,
    .capacity,
    #capacity,
    .address,
    #address,
    .price,
    #price,
    .state,
    #state,
    .startDate,
    #startDate {
      flex: 1;
      padding: 5px;
      max-width: 200px;
      word-wrap: break-word;
    }

    .table-row:hover {
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
      transform: translateY(-5px);
      background-color: #35C5B3;
      color: #FFFFFF;
      transition: box-shadow 0.3s, transform 0.3s, background-color 0.3s, color 0.3s;
    }

    #addContainer:hover #plus {
      color: #FFFFFF; /* 상위 태그가 호버될 때 plus 아이콘 색상 변경 */
    }

    .table-header {
      padding: 10px 0px 10px 0px;
      display: flex;
      align-items: center;
      font-weight: 700;
      text-align: right;
      font-size: 16px;
      background-color: #f2f2f2;
    }

    #addContainer {
      height: 166px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    #plus {
      font-size: 80px;
      color: #696969;
    }

    #plus:hover {
      color: #8ADFD7; /* 호버 시 아이콘 색상 변경 */
    }

  </style>
</head>



  </style>
</head>

<body>

<div data-th-replace="host/hostHeader :: hostHeader">머리말</div>

<div align="center">

  <div id="mainContainer">

      <div class="table-header">
        <div class="table-cell" id="empty"></div>
        <div class="table-cell" id="name">숙소명</div>
        <div class="table-cell" id="capacity">수용 인원</div>
        <div class="table-cell" id="address">주소</div>
        <div class="table-cell" id="price">가격</div>
        <div class="table-cell" id="state">상태</div>
        <div class="table-cell" id="startDate">호스팅 시작일</div>
      </div>


    <div data-th-each="rentalHome : ${list}" data-th-object="${rentalHome}" class="rows" >

        <div class="table-row content" data-th-data-no="${rentalHome.rentalHomeNo}">
          <div class="table-cell rentalHomePhoto">
            <img class="content img" data-th-src="@{'https://5ns6sjke2756.edge.naverncp.com/nBMc0TCJiv/rentalHome/' + ${rentalHome.rentalHomePhotos[0].uuidPhotoName}(type=f,w=150,h=150,ttype=jpg)}" src="/photo1.jpg">
          </div>
          <div class="table-cell name" data-th-text="*{name}"><a href=""></a></div>
          <div class="table-cell capacity" data-th-text="*{capacity}">2</div>
          <div class="table-cell address" data-th-text="*{address}">제주 서귀포시 ...</div>
          <div class="table-cell price" data-th-text="*{price} + '/주'">100000/주</div>
          <div class="table-cell state" data-th-data-state="*{state}"></div>
          <div class="table-cell startDate" data-th-text="${#dates.format(rentalHome.hostingStartDate,'yyyy-MM-dd')}">2024-04-06</div>
        </div>

    </div>
    <div class="table-row table" id="addContainer">
      <i id="plus" class="fa-regular fa-square-plus"></i>
    </div>
  </div>



  <br>
  <br>
  <br>



  <div class="footer" data-th-replace="footer :: footer">꼬리말</div>
  <script data-th-inline="javascript">


    stateList = document.querySelectorAll('.state');

    stateList.forEach((stateDiv) => {
      let state = stateDiv.getAttribute('data-state');
      switch (state) {
        case '0':
          stateDiv.textContent = "등록 심사중";
          break;
        case '1':
          stateDiv.textContent = "운영중";
          break;
        case '2':
          stateDiv.textContent = "운영 중지";
          break;
        default:
          stateDiv.textContent = "등록 심사중";
          break;
      }
    });

    var el = document.querySelectorAll('.table-row.content');

    el.forEach(function(e) {
      var stateDiv = e.querySelector('.state');
      var state = stateDiv.textContent;

      if (state !== "등록 심사중") {
        e.onclick = () => {
          window.location.href = "rentalHomeView?rentalHomeNo=" + e.getAttribute("data-no");
        };
      } else {
        e.onclick = () => {
          alert("등록 심사중인 숙소입니다.")
        };
      }
    });

    document.getElementById('addContainer').onclick = () => {
      location.href='hostStart';
    };
  </script>
</div>
</body>
<script data-th-src="@{/js/header.js}"></script>
<script>


</script>
</html>